
<mat-card class="p-0" id="pRef" *ngIf ="getData">
  <button mat-icon-button aria-label="Example icon-button with a heart icon" (click)="GetHtml()" style="float: right;
              ;">
  <mat-icon>cloud_download</mat-icon>
</button>
  <div style="width: 100%;float: left;" #pRef>
    <p  style="    text-align: center;
    margin-top: 10px;
    margin-bottom: 0px;
    font-size: 20px;
    font-weight: 600;">Delivery Challan </p>
 

    <div style="width:100%;border:1px solid;    width: 100%;
    border: 1px solid;
    float: left;
    
     ">
      <div style="      width: 97%;
 border-bottom: 1px solid;
 float: left;
 padding: 10px;
 
  ">
        <div style="width:50%;float: left;">
        
          <p style="    margin: 0;
  font-size: 14px;
  font-weight: 600;">{{getData.parentCompany.name}}</p>
          <p style="   margin: 0; 
    font-size: 12px;">{{getData.parentCompany.address}}</p>
          <p style="    margin: 0;font-size: 12px; ">E-Mail : {{getData.parentCompany.companyEmail}}</p>
          <p style="   margin: 0;font-size: 12px; ">WebSite : {{getData.parentCompany.website}}</p>
          <p style="   margin: 0;font-size: 12px; ">CIN : {{getData.parentCompany.cnio}}</p>
          <p style="   margin: 0;font-size: 12px; ">Phone : {{getData.parentCompany.phoneNumber}}</p>

        </div>
        <div style="width: 40%;
        float: right;
        text-align: left;
    ">
          <p style=" 
   font-size: 12px;
  font-weight: 600;">GSTIN : {{getData.parentCompany.gstno}}</p>
          <p style="font-size: 12px;
  font-weight: 600;">PAN No. : {{getData.parentCompany.pan}}</p>
          <p style=" font-size: 12px;
  ">State : {{getData.parentCompany.state}}</p>
          <p style="font-size: 12px;
   ">State Code : {{getData.parentCompany.stateCode}}</p>
        </div>
      </div>


      <div style="width:100%;     
border-bottom: 1px solid;
float: left;

 ">

  
<div style="width: 50%;
float: left;
padding: 10px 0px 0px 10px;
border-right: 1px solid;    padding-top: 0px; ">
     
     
     <p style="    
     margin-bottom: 0px;
    font-size: 14px;
    "><span style=" font-weight: 600;">Work Order No :</span> <span
                 style="  font-size: 13px;">{{getData.woDetail.woNo}}</span> </p>
                 <p style="    
                 margin-bottom: 0px;
                font-size: 14px;
               "><span style=" font-weight: 600;">Delivery Note Date : </span> <span style="  font-size: 13px;">
                            {{getData.createdDate |date: 'dd/MM/yyyy'}}</span></p>
                            <p style="    
                            margin-bottom: 0px;
                           font-size: 14px;
                          "><span style=" font-weight: 600;">Delivery Note No. : </span> <span style="  font-size: 13px;">
                                       {{getData.poNo}}</span></p>
                                       <p style="    
                                       margin-bottom: 0px;
                                      font-size: 14px;
                                     "><span style=" font-weight: 600;"><span (click)="EwayBill()">E way Bill. :</span> </span> <span style="  font-size: 13px;">
                                                  </span><span (click)="EwayBill()">
                                                    <ng-container *ngIf="!showEwayBillText">
                                                      <span style="font-size: 13px;"> {{getData.eway}}</span>
                                                    </ng-container>
                                                  </span>
                                                  <ng-container *ngIf="showEwayBillText">
                                                    <input name="destination" [(ngModel)]="getData.eway" (blur)="EwayBill()"
                                                      [ngModelOptions]="{standalone: true}">
                                                  </ng-container></p>
 
        </div>
        <div style="width: 40%;
      float: left;
      text-align: left; padding-left: 10px;">
   <p style="    
   margin-bottom: 0px;
  font-size: 14px;
  "><span style="font-weight: 600;">Dispatch Through :</span> <span style="font-size: 13px;">{{getData.deliveryTerm}}
              </span></p>
   
              <p style="    
              margin: 0px;
             font-size: 14px;
            "> <span style=" font-weight: 600;">Dockect No. :</span> <span *ngFor="let list of paymentTermArray"
                          style="font-size: 13px;">{{list.value}}%
                          {{list.name}}</span></p>
                          <p style="    margin: 0px;
                          font-size: 14px;
                        "><span style=" font-weight: 600;">Destination :</span> <span (click)="Destination()">
                                      <ng-container *ngIf="!showDestinationText">
                                        <span style="font-size: 13px;"> {{getData.destination}}</span>
                                      </ng-container>
                                    </span>
                                    <ng-container *ngIf="showDestinationText">
                                      <input name="destination" [(ngModel)]="getData.destination" (blur)="Destination()"
                                        [ngModelOptions]="{standalone: true}">
                                    </ng-container>
                                  </p>
                                  <p style="    
                                  margin: 0px;
                                 font-size: 14px;
                                "><span style=" font-weight: 600;"> Verticle /Department: </span> <span style="  font-size: 13px;">
                                          {{getData.woDetail.verticaluuid }} /   {{getData.woDetail.departmentuuid }}  </span></p>
        </div>
      </div>
      <div style="width:99%;float:left;padding: 10px 0px 10px 10px;background: gainsboro;    border-right: 1px solid;">
        <div style="width:50%;margin: 0px;font-weight: 600; float: left;   font-size: 14px;">Buyer(if other than consignee):: </div>
        <div style="width:40%;margin: 0px;font-weight: 600;  float: left;  font-size: 14px; "> Consignee :</div>

      </div>
      <div style="width:100%;float:left;   ; ">
        <div style="width: 50%;float:left;border-right:1px solid ;">
          <!-- <p style="padding: 10px;background: gainsboro;margin: 0px;font-weight: 600;    font-size: 14px;">
          
        </p> -->
          <p style="    padding-left: 10px;
        font-size: 12px;
        font-weight: 600;
        margin: 0;">
            Name : {{getData.companyClient.name}}.

          </p>
          <p style="    padding-left: 10px;
        font-size: 12px;
        font-weight: 600;
        margin: 0;;">
            Add. : {{getData.companyClient.address}}

          </p>
          <p style=" padding-left: 10px;
         font-size: 14px;
        font-weight: 600;">GSTIN : {{getData.companyClient.gstno}}</p>
          <p style=" 
           margin-top: 0px;padding-left: 10px;
           font-size: 14px;
           font-weight: 600;">Mobile\Ph. no. : {{getData.companyClient.phoneNumber}}</p>
        </div>
        <div style="width: 40%;float:left; ">
          <!-- <p style="padding: 10px;background: gainsboro;margin: 0px;font-weight: 600;    font-size: 14px;">
          Supplier:
        </p>
          -->
          <p style="    padding-left: 10px;
        font-size: 12px;
        font-weight: 600;
        margin: 0;">
            Name : {{getData.companyClient.name}}.

          </p>
          <p style="    padding-left: 10px;
        font-size: 12px;
        font-weight: 600;
        margin: 0;" >
            Add. : {{getData.companyClient.address}}

          </p>
          <p style="margin-bottom: 0px;
        margin-top: 0px;padding-left: 10px;
        font-size: 14px;
        font-weight: 600;">State : {{getData.companyClient.stateCode}}-{{getData.companyClient.state}}</p>
          <p style="margin-bottom: 0px;padding-left: 10px;
        margin-top: 0px;
        font-size: 14px;
        font-weight: 600;">GSTIN : {{getData.companyClient.gstno}}</p>

        </div>

      </div>
      <table style="width: 100%;;  margin-top: 10px;  border: 1px solid black;
    border-collapse: collapse;
  ">
        <tr>
          <th style="width: 10px;text-align: left;  border: 1px solid black;
        border-collapse: collapse;
       ;">S.No.</th>
          <th style="width: 270px;text-align: left;  border: 1px solid black;
        border-collapse: collapse;
       ;">Description of Goods</th>
           
          <th style="width: 75px;text-align: left;  border: 1px solid black;
        border-collapse: collapse;
       ;">Qty</th>
          <th style="width: 75px;text-align: left;  border: 1px solid black;
        border-collapse: collapse;
       ;">Rate</th>
          <th style="width: 75px;text-align: left;  border: 1px solid black;
        border-collapse: collapse;
       ;">Per</th>
          <th style="width: 75px;text-align: left;  border: 1px solid black;
        border-collapse: collapse;
       ;">Amount</th>

        </tr>
        <tr *ngFor="let list of getData.woDetail.materialArray.reverse();let i =index">
          <td style="border: 1px solid black;
        border-collapse: collapse;text-align: left;
       ;">{{i +1}}</td>
          <td style="border: 1px solid black;
          border-collapse: collapse;text-align: left;
         ;"><span>   <span (click)="showdescText[i].desc = !showdescText[i].desc">{{list.name}}</span> <br><span style="font-size: 11px;"> 
         
         <span (click)="showdescText[i].desc = !showdescText[i].desc">
          <ng-container *ngIf="!showdescText[i].desc">
            <span style="font-size: 13px;"> {{list.description}}</span>
          </ng-container>
        </span>
        
          <ng-container *ngIf="showdescText[i].desc">
            <textarea name="destination" [(ngModel)]="list.description" (blur)="showdescText[i].desc =!showdescText[i].desc" style="width: 80%;"
            [ngModelOptions]="{standalone: true}"></textarea>
        </ng-container> 
        </span></span></td>

          

          <td style="border: 1px solid black;
        border-collapse: collapse;text-align: left;
       ;">{{list.qty}} {{list.unit}}</td>
          <td style="border: 1px solid black;
        border-collapse: collapse;text-align: left;
       ;">{{list.rate }}</td>
          <td style="border: 1px solid black;
        border-collapse: collapse;text-align: left;
       ;">{{list.unit}}</td>
          <td style="border: 1px solid black;
        border-collapse: collapse;text-align: left;
       ;"> {{list.qty * list.rate | number:'1.2-2'}}</td>
        </tr>
      </table>
      <div style="width: 100%; 
    float: left;
    margin-top: 15px;
    margin-bottom: 15px;
    border-top: 1px solid;
    border-bottom: 1px solid;text-align: right;">
        <div style="width: 50%;float: left;">
          <div style="width: 100%;float: left;text-align: left;">Receiver Name:</div>
       
          <div style="width: 100%;float: left;text-align: left"  >Receiver Department + Verticle:</div>
          <div style="width: 100%;float: left;text-align: left"  >Receiving Date:</div>
          <div style="width: 100%;float: left;text-align: left"  >Receiving Signature:</div>

        </div>
        <div style="width: 40%;
        float: right;
        margin-right: 10px;
        margin-top: 10px;
    ">
          <div style="width: 50%;float: left">Total Amonunt</div>
          <div style="width: 50%;float: left">{{totalAmount | number:'1.2-2' }}</div>
      
          <div style="width: 50%;float: left" *ngIf ="!showIgst">Add SGST</div>
          <div style="width: 50%;float: left"  *ngIf ="!showIgst">{{TotalTax/2| number:'1.2-2'}}</div>
          <div style="width: 50%;float: left" *ngIf ="!showIgst">Add CGST</div>
          <div style="width: 50%;float: left" *ngIf ="!showIgst">{{TotalTax/2| number:'1.2-2'}}</div>
          <div style="width: 50%;float: left" *ngIf ="showIgst">Add IGST</div>
          <div style="width: 50%;float: left" *ngIf ="showIgst">{{TotalTax| number:'1.2-2'}}</div>
          <div style="width: 50%;float: left">Round Off</div>
          <div style="width: 50%;float: left">{{floatroundoff| number:'1.2-2'}}</div>
          <div style="width: 50%;float: left;font-size: 14px;font-weight: 600;">Grand Total</div>
          <div style="width: 50%;float: left;font-size: 14px;font-weight: 600;">{{grandTotal}}</div>
        </div>

      </div>
      <div style="width: 100%; 
    float: left;
    margin-top: 15px;
    margin-bottom: 15px;
    border-top: 1px solid;
    border-bottom: 1px solid;margin: 0px;">
        <p>Rs {{numberText}}  </p>
      </div>
      <div style="width: 100%; float: left;">
        <div style="width: 60%; float: left;">
          <p>Term & Condition</p>
          <ol style="    font-size: 12px;">
            <li style="font-size: 11px;"> We certify that the particulars given above are true and correct and the amount indicate
              repersent price actually.</li>
            <li style="font-size: 11px;"> Goods once delivered will not be taken back. For Radius Synergies International Pvt. Ltd.</li>
            <li style="font-size: 11px;"> the purchase shall check the delivered Goods immediately after reciept. complaints of any kind shall be ruled out if they within 30 days after the reciept of the Goods.
            </li>
            <li style="font-size: 11px;"> All disputes shall be the jurisdictions of court at Gautam Budha Nagar, U.P</li>
              
          </ol>
        </div>
        <div style="    width: 30%;
        float: right;
        /* border: 1px solid; */
        border-left: 1px solid;
        border-top: 1px solid;
        border-bottom: 1px solid;
        /* padding-top: 6px; */
        /* margin: 25px; */
        padding: 21px;
        margin: 25px 0px 0px 0px;padding-left: 10px;">
          <p style="font-size: 12px;">For {{getData.parentCompany.name}}</p>
          <p style="margin-top: 20px;margin-top: 66px;margin-bottom: 0px;font-size: 12px">Authorized Sign</p>
        </div>
      </div>
    </div>
  </div>
</mat-card>